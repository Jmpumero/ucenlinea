!function(t){"use strict";var e={maxLengthTemplate:"data-maxlength-template"};function a(a,l,o){0!=l?t(a.target).next("["+e.maxLengthTemplate+"='true']").text(function(t,e,a){return t.replace("{total}",e).replace("{maxLength}",a)}(a.data.text,l,o)):n(a)}function n(a){t(a.target).next("["+e.maxLengthTemplate+"='true']").text("")}function l(e){var a=e.keyCode?e.keyCode:e.which,n=this.value.length,l=t(e.target).attr("maxlength");(a>=33||13==a||32==a)&&n>=l&&e.preventDefault()}function o(e){a(e,this.value.length,t(e.target).attr("maxlength"))}function r(e){var n=e.originalEvent.clipboardData.getData("text")?e.originalEvent.clipboardData.getData("text"):e.originalEvent.clipboardData.getData("text/plain"),l=t(e.target).attr("maxlength");a(e,n.length>l?l:n.length,l)}t.fn.maxlength=function(a){var i=t.extend({},t.fn.maxlength.defaults,a);return this.each(function(){var a=t(this);void 0!==a.attr("maxlength")&&(a.on("keypress",i,l),i.showTemplate&&(!function(a,n){t(n.template).attr(e.maxLengthTemplate,"true").css("color",n.color).css("font-size",n.fontSize).css("text-align",n.position).insertAfter(a)}(a,i),a.on("focusout",i,n),a.on("keyup",i,o),a.on("paste",i,r)))}),this},t.fn.maxlength.defaults={text:"{total}/{maxLength}",position:"left",color:"grey",fontSize:"12px",template:"<div />",showTemplate:!0}}(jQuery);
